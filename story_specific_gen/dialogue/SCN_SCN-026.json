{
  "dialogueGraphs": [
    {
      "id": "DG_SCN_026_GUARD_SHACK_EXTERIOR",
      "sceneId": "SCN-026",
      "startNodeId": "N0",
      "nodes": [
        {
          "id": "N0",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The guard shack sits where it has always sat: between the road and the liability.",
          "next": "N1"
        },
        {
          "id": "N1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The door handle implies consent. The reader light implies recognition. Neither implies you.",
          "next": "N_MAIN"
        },
        {
          "id": "N_MAIN",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "USE_DOOR",
              "text": "(use) Guard shack door.",
              "checks": [],
              "next": "N_DOOR_1"
            },
            {
              "id": "USE_READER",
              "text": "(use) Card reader.",
              "checks": [],
              "next": "N_READER_1"
            },
            {
              "id": "USE_CALLBOX",
              "text": "(use) Call box speaker and button.",
              "checks": [],
              "next": "N_CALLBOX_0"
            },
            {
              "id": "LOOK_TUBE",
              "text": "(look) Pneumatic tube label plate.",
              "checks": [],
              "next": "N_TUBE_1"
            },
            {
              "id": "LEAVE_LEFT",
              "text": "(leave) Approach Road and Main Gate \u2014 left.",
              "checks": [],
              "next": "N_END_LEAVE_LEFT"
            },
            {
              "id": "LEAVE_VESTIBULE",
              "text": "(leave) Guard Shack Vestibule \u2014 hotspot.",
              "conditions": [
                {
                  "key": "world.guardShackUnlocked",
                  "op": "==",
                  "value": true
                }
              ],
              "checks": [],
              "next": "N_END_ENTER_VESTIBULE"
            },
            {
              "id": "TRY_VESTIBULE_LOCKED",
              "text": "(leave) Guard Shack Vestibule \u2014 hotspot.",
              "conditions": [
                {
                  "key": "world.guardShackUnlocked",
                  "op": "==",
                  "value": false
                }
              ],
              "checks": [],
              "next": "N_VEST_LOCKED_1"
            }
          ]
        },
        {
          "id": "N_VEST_LOCKED_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You step to the vestibule threshold. The door stays shut, like a database approves your legs.",
          "next": "N_MAIN"
        },
        {
          "id": "N_DOOR_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The handle turns with bureaucratic optimism.",
          "next": "N_DOOR_2"
        },
        {
          "id": "N_DOOR_2",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The latch does not. The door remains closed as a policy statement.",
          "next": "N_DOOR_MENU"
        },
        {
          "id": "N_DOOR_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "USE_CALLBOX",
              "text": "(use) Call box speaker and button.",
              "checks": [],
              "next": "N_CALLBOX_0"
            },
            {
              "id": "USE_READER",
              "text": "(use) Card reader.",
              "checks": [],
              "next": "N_READER_1"
            },
            {
              "id": "LOOK_TUBE",
              "text": "(look) Pneumatic tube label plate.",
              "checks": [],
              "next": "N_TUBE_1"
            },
            {
              "id": "LEAVE_BACK",
              "text": "(leave) Step back.",
              "checks": [],
              "next": "N_MAIN"
            }
          ]
        },
        {
          "id": "N_READER_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You present what the system would have accepted in a staffed decade.",
          "next": "N_READER_2"
        },
        {
          "id": "N_READER_2",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Reader blinks once\u2014acknowledgement without obligation\u2014then returns to default: waiting for a person in the correct place.",
          "next": "N_READER_MENU"
        },
        {
          "id": "N_READER_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "USE_CALLBOX",
              "text": "(use) Call box speaker and button.",
              "checks": [],
              "next": "N_CALLBOX_0"
            },
            {
              "id": "USE_DOOR",
              "text": "(use) Guard shack door.",
              "checks": [],
              "next": "N_DOOR_1"
            },
            {
              "id": "LOOK_TUBE",
              "text": "(look) Pneumatic tube label plate.",
              "checks": [],
              "next": "N_TUBE_1"
            },
            {
              "id": "LEAVE_BACK",
              "text": "(leave) Step back.",
              "checks": [],
              "next": "N_MAIN"
            }
          ]
        },
        {
          "id": "N_TUBE_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A metal plate riveted under the tube label: ROUTING / AUTHORIZATION.",
          "next": "N_TUBE_2"
        },
        {
          "id": "N_TUBE_2",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Someone scratched one word into it with a key: \u201cRECORDS.\u201d Not instructions. Blame allocation.",
          "next": "N_TUBE_MENU"
        },
        {
          "id": "N_TUBE_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "USE_CALLBOX",
              "text": "(use) Call box speaker and button.",
              "checks": [],
              "next": "N_CALLBOX_0"
            },
            {
              "id": "USE_DOOR",
              "text": "(use) Guard shack door.",
              "checks": [],
              "next": "N_DOOR_1"
            },
            {
              "id": "USE_READER",
              "text": "(use) Card reader.",
              "checks": [],
              "next": "N_READER_1"
            },
            {
              "id": "LEAVE_BACK",
              "text": "(leave) Step back.",
              "checks": [],
              "next": "N_MAIN"
            }
          ]
        },
        {
          "id": "N_CALLBOX_0",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The speaker grille is polished in the center from repeated requests.",
          "next": "N_CALLBOX_1"
        },
        {
          "id": "N_CALLBOX_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A label plate beneath it is sun-faded: SECV \u2014 REMOTE ATTENDANCE.",
          "next": "N_SECV_0"
        },
        {
          "id": "N_SECV_0",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "SECV remote attendance. (pause) Line\u0019s recorded\u0014quality, liability. (pause) What do you need?",
          "next": "N_SECV_MENU"
        },
        {
          "id": "N_SECV_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_UNLOCK",
              "text": "(ask) Unlock the guard shack interior.",
              "checks": [],
              "next": "N_UNLOCK_1"
            },
            {
              "id": "SHOW_RECEIPT",
              "text": "(show) I have a Temporary Presence Receipt. Marked onsite.",
              "checks": [],
              "next": "N_SHOW_1"
            },
            {
              "id": "ASK_SCHEDULE",
              "text": "(ask) Confirm my schedule details for my trail.",
              "checks": [],
              "next": "N_SCHED_1"
            },
            {
              "id": "PERSUADE_OLEA",
              "text": "(persuade) I\u2019m OLEA. Closeout activity. Treat the work order as authority.",
              "conditions": [
                {
                  "key": "player.factions",
                  "op": "in",
                  "value": [
                    "OLEA"
                  ]
                }
              ],
              "checks": [],
              "next": "N_OLEA_1"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_UNLOCK_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "I can pop the guard shack interior (pause) when the system shows authorized onsite presence. (pause) Off a voice request, the log pins me. (pause) I\u2019m not cleared for that.",
          "next": "N_UNLOCK_2"
        },
        {
          "id": "N_UNLOCK_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Do you have a Presence Receipt (pause) that actually says \u001consite\u001d\u0014not \u001cexpected\u001d? (pause) Yeah. Wording matters. (pause) I hate it too.",
          "next": "N_UNLOCK_MENU"
        },
        {
          "id": "N_UNLOCK_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_YES_ONSITE",
              "text": "(show) Yes. Receipt is issued and marked onsite.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "ASK_SYSTEM_INDICATES",
              "text": "(ask) What do you mean \u201csystem indicates\u201d?",
              "checks": [],
              "next": "N_INDICATES_1"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_INDICATES_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "I mean. (pause) A record to hang the unlock on. (pause) Name date activity type. Site set to onsite. (pause) And a Records authority marker.",
          "next": "N_INDICATES_2"
        },
        {
          "id": "N_INDICATES_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "I don\u0019t need your face over audio. (pause) I need that box checked. (pause) Then the log points to Records. (pause) Not me.",
          "next": "N_INDICATES_MENU"
        },
        {
          "id": "N_INDICATES_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_HAVE_IT",
              "text": "(show) I have it. Marked onsite.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_SHOW_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Okay, good. (pause)\nThanks for wording it exactly like that. (pause)\nI\u0019m still not \u0018verifying\u0019 anybody over a speaker. (pause)\nJust covering myself. (pause)\nI\u0019ll check for the onsite presence record (pause)\nunder your name.",
          "next": "N_SHOW_MENU"
        },
        {
          "id": "N_SHOW_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_CHECK_UNLOCK",
              "text": "(ask) Check it. Then unlock.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "ASK_READBACK",
              "text": "(ask) Before you unlock, read back the minimum fields you can.",
              "checks": [],
              "next": "N_READBACK_1"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_READBACK_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Minimum, sure. (pause) If I read the rest it gets personal. (pause) Then I'm writing a whole extra report.",
          "next": "N_READBACK_2"
        },
        {
          "id": "N_READBACK_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "I can confirm: (pause) scheduled party matches a Field Systems Specialist (pause) under OLEA closeout activity dated today (pause) status shows: onsite. (pause) That\u0019s all I can say.",
          "next": "N_READBACK_MENU"
        },
        {
          "id": "N_READBACK_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_UNLOCK",
              "text": "(ask) Unlock.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_SCHED_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Your name is scheduled yeah. (pause) It\u2019s in the database. (pause) But I can\u2019t confirm it\u2019s you. (pause) If I make that call it\u2019s on me. (pause) And my contract doesn\u2019t cover it.",
          "next": "N_SCHED_2"
        },
        {
          "id": "N_SCHED_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "If you\u0019re marked onsite with a Presence Receipt, (pause) I\u0019ll attach the confirmation to that event. (pause) Then it lives as ops data.",
          "next": "N_SCHED_MENU"
        },
        {
          "id": "N_SCHED_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_MARKED_ONSITE",
              "text": "(show) I\u2019m marked onsite. Attach it. Then unlock.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "ASK_WHY_SCHED_NOT_ENOUGH",
              "text": "(ask) If I\u2019m scheduled, why wasn\u2019t that enough?",
              "checks": [],
              "next": "N_SCHED_WHY_1"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_SCHED_WHY_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Scheduled just means you were expected. (pause) Doors want onsite with a timestamp. (pause) So it audits, somebody's tied to it. (pause) That's how it's built.",
          "next": "N_SCHED_WHY_MENU"
        },
        {
          "id": "N_SCHED_WHY_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_ONSITE_USE_IT",
              "text": "(show) Onsite status exists. Use it.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_OLEA_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Work order says you\u2019re expected. (pause)\nStill can\u2019t hit anything from a speaker. (pause)\nI can only act on the database.",
          "next": "N_OLEA_2"
        },
        {
          "id": "N_OLEA_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "If Records marks you onsite, (pause) the work order has a place to attach. (pause) Then I can run doors (pause) without inventing anything.",
          "next": "N_OLEA_MENU"
        },
        {
          "id": "N_OLEA_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_PROCEED",
              "text": "(show) Records marked me onsite. Proceed.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "ASK_TIME_SENSITIVE",
              "text": "(ask) You understand this is time-sensitive.",
              "checks": [],
              "next": "N_TIME_1"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_TIME_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Yeah, I hear you. (pause) I still can\u0019t waive check-in. (pause) \u0018Urgent\u0019 isn\u0019t a button on my screen.",
          "next": "N_TIME_MENU"
        },
        {
          "id": "N_TIME_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "SHOW_ONSITE_PROCEED",
              "text": "(show) Onsite marker exists. Proceed.",
              "checks": [],
              "next": "N_COMMIT_0"
            },
            {
              "id": "LEAVE_ENDCALL",
              "text": "(leave) End call.",
              "checks": [],
              "next": "N_ENDCALL_1"
            }
          ]
        },
        {
          "id": "N_COMMIT_0",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Copy. I'm pulling the onsite ledger now. (pause) Give it a second. (pause) This system always hangs right before taking responsibility.",
          "next": "N_COMMIT_1"
        },
        {
          "id": "N_COMMIT_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The call box speaker emits the soft hiss of distance and servers.",
          "next": "N_COMMIT_2"
        },
        {
          "id": "N_COMMIT_2",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Okay. I\u0019ve got an onsite presence record. (pause) Under your name, today\u0019s date. (pause) Activity type: closeout. (pause) That\u0019s enough for me to actuate interior access. (pause) And the log won\u0019t land on me.",
          "next": "N_COMMIT_3"
        },
        {
          "id": "N_COMMIT_3",
          "type": "npc_line",
          "speakerId": "PLAYER",
          "text": "Do it.",
          "next": "N_COMMIT_4"
        },
        {
          "id": "N_COMMIT_4",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Okay\u0014timed unlock on the guard shack interior door. (pause) Short window. Move. (pause) If it relocks, that\u0019s the timer.",
          "next": "N_COMMIT_5"
        },
        {
          "id": "N_COMMIT_5",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A relay clicks somewhere behind the door. The reader light changes its mind for a moment.",
          "next": "N_END_UNLOCK"
        },
        {
          "id": "N_END_UNLOCK",
          "type": "end",
          "outcomeId": "unlock_guard_shack",
          "effects": [
            {
              "key": "world.guardShackUnlocked",
              "action": "set",
              "value": true
            }
          ]
        },
        {
          "id": "N_ENDCALL_1",
          "type": "npc_line",
          "speakerId": "SECV_OPERATOR",
          "text": "Copy. I\u0019m ending the call. (pause) Need another door action? (pause) Hit the call button again. (pause) I\u0019ll tag it to the record.",
          "next": "N_MAIN"
        },
        {
          "id": "N_END_LEAVE_LEFT",
          "type": "end"
        },
        {
          "id": "N_END_ENTER_VESTIBULE",
          "type": "end"
        }
      ]
    }
  ]
}