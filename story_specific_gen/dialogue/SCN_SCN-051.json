{
  "dialogueGraphs": [
    {
      "id": "SCN_051_WINDOW7_PROPERTY_STUB",
      "sceneId": "SCN-051",
      "startNodeId": "N_INTRO_1",
      "nodes": [
        {
          "id": "N_INTRO_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "conditions": [
            {
              "key": "act2.terIssued",
              "op": "==",
              "value": true
            },
            {
              "key": "act2.propertyClaimStubCollected",
              "op": "==",
              "value": false
            }
          ],
          "text": "Window 7 smells faintly of stamp ink and hand lotion. (pause) The counter is the same, but your badge changes what the glass is willing to hear.",
          "next": "N_INTRO_2"
        },
        {
          "id": "N_INTRO_2",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Property. Claims. (pause)\nYou've filed enough to be a claimant today. (pause)\nNormal sense. (pause)\nBasis only. (pause)\nDon't give me the story.",
          "next": "PC_MAIN"
        },
        {
          "id": "PC_MAIN",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_NEED_STUB",
              "text": "talk: I need a property claim stub.",
              "next": "N_STUB_OFFER_1"
            },
            {
              "id": "C_ASK_BASIS",
              "text": "ask: What's a \"property basis\"?",
              "next": "N_BASIS_1"
            },
            {
              "id": "C_ASK_TER_BASIS",
              "text": "ask: Isn't the TER the basis?",
              "next": "N_TER_NOT_ENOUGH_1"
            },
            {
              "id": "C_SHOW_OLEA",
              "text": "show: OLEA credentials.",
              "conditions": [
                {
                  "key": "player.hasFaction.OLEA",
                  "op": "==",
                  "value": true
                }
              ],
              "next": "N_OLEA_1"
            },
            {
              "id": "C_PERSUADE_SKIP_DETAIL",
              "text": "persuade: Can you issue the stub with minimal detail? I'll supply verification later.",
              "checks": [
                {
                  "type": "skill",
                  "skill": "persuasion",
                  "dc": 11
                }
              ],
              "onPassNext": "N_PERSUADE_PASS_1",
              "onFailNext": "N_PERSUADE_FAIL_1"
            },
            {
              "id": "C_LEAVE_BACK",
              "text": "leave: Back.",
              "next": "END_BACK"
            }
          ]
        },
        {
          "id": "N_STUB_OFFER_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Yeah, I can issue a stub. (pause)\nHolds your place. (pause)\nGives you something to point at later. (pause)\nWhat item class?",
          "next": "PC_CLASS_MENU"
        },
        {
          "id": "PC_CLASS_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_CLASS_EQUIP",
              "text": "talk: Issued equipment. Service kit.",
              "next": "N_CLASS_EQUIP_1"
            },
            {
              "id": "C_TALK_CLASS_DOCS",
              "text": "talk: Facility documentation. Records packet.",
              "next": "N_CLASS_DOCS_1"
            },
            {
              "id": "C_ASK_CLASSES",
              "text": "ask: What item classes are acceptable?",
              "next": "N_CLASSES_ACCEPTABLE_1"
            },
            {
              "id": "C_ASK_STUB_DOES",
              "text": "ask: What does the stub actually do?",
              "next": "N_STUB_DOES_1"
            },
            {
              "id": "C_LEAVE_CLASS_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_CLASS_EQUIP_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Issued equipment goes in the class box. (pause)\nDoesn't prove anything. (pause)\nService kit drags handler responsibility. Keeping it tight. (pause)\nI'm recording: service kit. (pause)\nSerialized if available. (pause)\nClaimant present. (pause)\nEntitlement pending verification. (pause)\nDon't correct my phrasing on the record.",
          "next": "N_READY_TO_FILE_1"
        },
        {
          "id": "N_CLASS_DOCS_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Facility documentation is liability with staples. (pause)\nStill gets treated like property. (pause)\nI can stub: records packet unindexed; claimant present. (pause)\nDisposition pending verification.",
          "next": "N_READY_TO_FILE_1"
        },
        {
          "id": "N_READY_TO_FILE_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The clerk pulls a small slip from an unlabeled tray. (pause) They hesitate, then press their hand to the stamp pad.",
          "next": "PC_FILE_MENU"
        },
        {
          "id": "PC_FILE_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_FILE_IT",
              "text": "talk: File it.",
              "next": "N_PRINT_STUB_1"
            },
            {
              "id": "C_ASK_WHY_WORDING",
              "text": "ask: Why \"entitlement pending\"?",
              "next": "N_WHY_WORDING_1"
            },
            {
              "id": "C_ASK_VERIFICATION",
              "text": "ask: What verification?",
              "next": "N_VERIFICATION_1"
            },
            {
              "id": "C_LEAVE_FILE_BACK",
              "text": "leave: Back.",
              "next": "R_TO_CLASS_MENU"
            }
          ]
        },
        {
          "id": "N_WHY_WORDING_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "If I write \u0018ownership\u0019, people show up. (pause)\nSo does paperwork. (pause)\n\u0018Pending\u0019 keeps me from promising you anything\u0014normally.",
          "next": "R_TO_FILE_MENU"
        },
        {
          "id": "N_VERIFICATION_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Serials. Assignment logs. Chain-of-custody. Incident recovery. (pause)\nThat gets checked later\u0014preferably away from my window. (pause)\nHere, you leave with paper. (pause)\nIt survives the building pretending you weren\u0019t here.",
          "next": "R_TO_FILE_MENU"
        },
        {
          "id": "N_PRINT_STUB_1",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Stamp lands once hard. Clerk slides the slip under glass, two fingers, like it accuses them.",
          "next": "N_PRINT_STUB_2"
        },
        {
          "id": "N_PRINT_STUB_2",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Stub\u0019s issued. (pause)\nProcessed\u0014normal sense.",
          "next": "END_COLLECT_STUB"
        },
        {
          "id": "N_CLASSES_ACCEPTABLE_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Whatever doesn\u0019t make me guess intent. (pause)\nIssued equipment. (pause)\nPersonal effects if you want a dispute. (pause)\nRecords packet if you want a different one. (pause)\nIf you say \u0018mine\u0019, I start hearing \u0018hearing\u0019.",
          "next": "PC_CLASSES_FOLLOW"
        },
        {
          "id": "PC_CLASSES_FOLLOW",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_PICK_EQUIP",
              "text": "talk: Issued equipment.",
              "next": "N_CLASS_EQUIP_1"
            },
            {
              "id": "C_TALK_PICK_DOCS",
              "text": "talk: Records packet.",
              "next": "N_CLASS_DOCS_1"
            },
            {
              "id": "C_LEAVE_CLASSES_BACK",
              "text": "leave: Back.",
              "next": "R_TO_CLASS_MENU"
            }
          ]
        },
        {
          "id": "N_STUB_DOES_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "It time-stamps you showed up. (pause)\nSays you\u0019re coming back to claim something. (pause)\nStops someone saying you never came. (pause)\nIn the normal sense. (pause)\nAnd yeah\u0014it gives you something to lose. (pause)\nThat part\u0019s unofficial.",
          "next": "PC_STUB_DOES_FOLLOW"
        },
        {
          "id": "PC_STUB_DOES_FOLLOW",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_THEN_ISSUE",
              "text": "talk: Then issue it.",
              "next": "R_TO_CLASS_MENU"
            },
            {
              "id": "C_ASK_ACCESS",
              "text": "ask: Does it grant access?",
              "next": "N_ACCESS_NOT_PROPERTY_1"
            },
            {
              "id": "C_LEAVE_STUB_DOES_BACK",
              "text": "leave: Back.",
              "next": "R_TO_CLASS_MENU"
            }
          ]
        },
        {
          "id": "N_ACCESS_NOT_PROPERTY_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Stub doesn\u0019t open doors. (pause)\nAccess is Safety\u0019s mess. (pause)\nI issue stubs.",
          "next": "R_TO_STUB_DOES_FOLLOW"
        },
        {
          "id": "N_BASIS_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "It\u0019s what lets you argue (pause)\nwithout getting removed. (pause)\nSerials. Assignment logs. Incident recovery. (pause)\nSometimes you just keep showing up. (pause)\nKeep it to basis. (pause)\nStories breed counter-stories.",
          "next": "PC_BASIS_MENU"
        },
        {
          "id": "PC_BASIS_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_ISSUE_STUB_VERIFY_LATER",
              "text": "talk: Issue the stub. I'll supply verification later.",
              "next": "N_BASIS_TO_STUB_1"
            },
            {
              "id": "C_ASK_CAN_YOU_OR_NOT",
              "text": "ask: So you can issue the stub or not?",
              "next": "N_BASIS_TO_STUB_1"
            },
            {
              "id": "C_LEAVE_BASIS_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_BASIS_TO_STUB_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "I can issue it. (pause)\nIt\u0019ll say you intend to claim an item. (pause)\nPending proof it\u0019s even claimable. (pause)\nAuditors sleep better that way.",
          "next": "R_TO_CLASS_MENU"
        },
        {
          "id": "N_TER_NOT_ENOUGH_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "TER just shows you\u0019re filed. (pause)\nA condition this building can tolerate. (pause)\nRights is a different window. (pause)\nMaybe a different building. (pause)\nIf you want a document that implies less\u0014 (pause)\nI can do that.",
          "next": "PC_TER_MENU"
        },
        {
          "id": "PC_TER_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_WANT_STUB",
              "text": "talk: I want the stub.",
              "next": "N_STUB_IMPLIES_1"
            },
            {
              "id": "C_ASK_STUB_IMPLIES",
              "text": "ask: What does the stub imply?",
              "next": "N_STUB_IMPLIES_1"
            },
            {
              "id": "C_THREATEN_ESCALATE",
              "text": "threaten: I'll escalate.",
              "next": "N_ESCALATE_1"
            },
            {
              "id": "C_LEAVE_TER_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_STUB_IMPLIES_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "It flags you\u0019ll be back. (pause)\nThat\u0019s how it sits in the file. (pause)\nWant me to print it?",
          "next": "PC_STUB_IMPLIES_MENU"
        },
        {
          "id": "PC_STUB_IMPLIES_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_PREPARE",
              "text": "talk: Prepare it.",
              "next": "R_TO_CLASS_MENU"
            },
            {
              "id": "C_LEAVE_IMPLIES_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_ESCALATE_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "You say \u0018escalate\u0019, I tag an incident. (pause)\nIt attaches to your file. (pause)\nIn the normal sense. (pause)\nUp to you.",
          "next": "PC_ESCALATE_MENU"
        },
        {
          "id": "PC_ESCALATE_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_JUST_STUB",
              "text": "talk: Just the stub.",
              "next": "N_ESCALATE_WISE_1"
            },
            {
              "id": "C_LEAVE_ESCALATE_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_ESCALATE_WISE_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Good.",
          "next": "R_TO_CLASS_MENU"
        },
        {
          "id": "N_OLEA_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "OLEA credentials. Sure. (pause)\nContext. (pause)\nDoesn\u2019t count as basis. (pause)\nIf it\u2019s denied, I\u2019ll word it carefully. (pause)\nYou want paper you can use? (pause)\nAsk for a stub.",
          "next": "PC_OLEA_MENU"
        },
        {
          "id": "PC_OLEA_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "C_TALK_OLEA_ISSUE",
              "text": "talk: Issue the stub.",
              "next": "R_TO_CLASS_MENU"
            },
            {
              "id": "C_ASK_OLEA_CLASS",
              "text": "ask: Is there an OLEA class?",
              "next": "N_OLEA_NO_CLASS_1"
            },
            {
              "id": "C_LEAVE_OLEA_BACK",
              "text": "leave: Back.",
              "next": "R_TO_MAIN"
            }
          ]
        },
        {
          "id": "N_OLEA_NO_CLASS_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "No OLEA class. (pause)\nThere are items. Claimants. Then disputes. (pause)\nI\u0019m not starting a dispute\u0014normal sense.",
          "next": "R_TO_OLEA_MENU"
        },
        {
          "id": "N_PERSUADE_PASS_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "Fine. Keep it minimal. (pause)\nI still need an item class. (pause)\nBlank fields get flagged. (pause)\nProceed.",
          "next": "R_TO_CLASS_MENU"
        },
        {
          "id": "N_PERSUADE_FAIL_1",
          "type": "npc_line",
          "speakerId": "INTAKE_CLERK",
          "text": "No. (pause)\nMinimal detail still turns into disputes. (pause)\nState the class\u0014normal sense.",
          "next": "R_TO_MAIN"
        },
        {
          "id": "R_TO_MAIN",
          "type": "redirect",
          "target": "PC_MAIN"
        },
        {
          "id": "R_TO_CLASS_MENU",
          "type": "redirect",
          "target": "PC_CLASS_MENU"
        },
        {
          "id": "R_TO_FILE_MENU",
          "type": "redirect",
          "target": "PC_FILE_MENU"
        },
        {
          "id": "R_TO_STUB_DOES_FOLLOW",
          "type": "redirect",
          "target": "PC_STUB_DOES_FOLLOW"
        },
        {
          "id": "R_TO_OLEA_MENU",
          "type": "redirect",
          "target": "PC_OLEA_MENU"
        },
        {
          "id": "END_COLLECT_STUB",
          "type": "end",
          "outcomeId": "collect_property_claim_stub",
          "effects": [
            {
              "key": "act2.propertyClaimStubCollected",
              "action": "set",
              "value": true
            },
            {
              "key": "inventory.items",
              "action": "add",
              "value": "ITEM_PROPERTY_CLAIM_STUB"
            }
          ]
        },
        {
          "id": "END_BACK",
          "type": "end"
        }
      ]
    }
  ]
}