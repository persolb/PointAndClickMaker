{
  "dialogueGraphs": [
    {
      "id": "DG_RECEPTION_DRAWERS",
      "sceneId": "SCN-017",
      "startNodeId": "N_START",
      "nodes": [
        {
          "id": "N_START",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The reception desk is clean in the way abandoned things get when someone dusts around the idea of them.",
          "conditions": [
            {
              "key": "tools.magnetFound",
              "op": "==",
              "value": false
            }
          ],
          "next": "N_LABEL"
        },
        {
          "id": "N_LABEL",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A brass label holder reads: \u201cTEMPORARY.\u201d The paper inside has browned into permanence.",
          "next": "N_PLAYER_DRAWERS"
        },
        {
          "id": "N_PLAYER_DRAWERS",
          "type": "npc_line",
          "speakerId": "PLAYER",
          "text": "\u201cDrawers.\u201d",
          "next": "N_STICK"
        },
        {
          "id": "N_STICK",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The top drawer sticks, then gives with a soft complaint, like it\u2019s documenting the force used.",
          "next": "N_CONTENTS"
        },
        {
          "id": "N_CONTENTS",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Inside: carbon-copy request forms, a stapler with no staples, and three pens that all died believing they were essential.",
          "next": "N_ANYTHING"
        },
        {
          "id": "N_ANYTHING",
          "type": "npc_line",
          "speakerId": "PLAYER",
          "text": "\u201cAnything not paper?\u201d",
          "next": "N_ENVELOPE"
        },
        {
          "id": "N_ENVELOPE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "In the back corner, an envelope has been torn and re-taped enough times to become a laminate. Something small is caught in the seam\u2014metallic, flat, with a faint pull when it slides past the stapler.",
          "next": "N_MENU"
        },
        {
          "id": "N_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_PULL_OUT",
              "text": "(look) Pull it out.",
              "next": "N_PULL_OUT_RESIST"
            },
            {
              "id": "CH_INSPECT_FIRST",
              "text": "(look) Inspect it first.",
              "next": "N_INSPECT_LIGHT"
            },
            {
              "id": "CH_SEARCH_LOG",
              "text": "(look) Search for a log.",
              "next": "N_LOG_SHEET"
            },
            {
              "id": "CH_DOCUMENT_REMOVAL",
              "text": "(persuade) Document removal.",
              "conditions": [
                {
                  "key": "PLAYER.factions",
                  "op": "in",
                  "value": [
                    "OLEA"
                  ]
                }
              ],
              "next": "N_DOC_NOTE"
            },
            {
              "id": "CH_CLOSE_DRAWER",
              "text": "(leave) Close the drawer.",
              "next": "N_CLOSE_NEAT"
            }
          ]
        },
        {
          "id": "N_PULL_OUT_RESIST",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You pinch the seam and work it free. It resists, then releases abruptly\u2014your fingers go cold for a second from the metal.",
          "next": "N_PULL_OUT_IDENT"
        },
        {
          "id": "N_PULL_OUT_IDENT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A small magnetic component. The kind that lives inside badge stripes and cheap cabinet latches.",
          "next": "N_PULL_OUT_MENU"
        },
        {
          "id": "N_PULL_OUT_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_PULL_ASK_WHY",
              "text": "(ask) Why here?",
              "next": "N_PULL_OUT_TEMP_FIX"
            },
            {
              "id": "CH_PULL_TAKE",
              "text": "(talk) I\u2019ll take it.",
              "next": "E_OBTAIN_MAGNET"
            },
            {
              "id": "CH_PULL_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            }
          ]
        },
        {
          "id": "N_PULL_OUT_TEMP_FIX",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The envelope is stamped: \u201cKIOSK ACCESS \u2014 TEMP FIX.\u201d Someone underlined TEMP and then stopped believing in it.",
          "next": "N_PULL_OUT_MENU"
        },
        {
          "id": "N_INSPECT_LIGHT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You hold the piece up to the lobby light. It\u2019s a thin magnet assembly with adhesive residue and a faint scuff pattern from a swipe path.",
          "next": "N_INSPECT_BADGE"
        },
        {
          "id": "N_INSPECT_BADGE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Almost certainly badge hardware. \u201cAlmost\u201d is how this building stays open.",
          "next": "N_INSPECT_MENU"
        },
        {
          "id": "N_INSPECT_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_INSPECT_TAKE",
              "text": "(talk) Take it.",
              "next": "E_OBTAIN_MAGNET"
            },
            {
              "id": "CH_INSPECT_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            }
          ]
        },
        {
          "id": "N_LOG_SHEET",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Under the forms is a half-sheet titled \u201cREMOVALS / RETURNS.\u201d It has six columns and one honest entry.",
          "next": "N_LOG_SIGNATURE"
        },
        {
          "id": "N_LOG_SIGNATURE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The signature line is blank. The date is not.",
          "next": "N_LOG_MENU"
        },
        {
          "id": "N_LOG_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_LOG_WHO",
              "text": "(ask) Who signed off?",
              "next": "N_LOG_NO_ONE"
            },
            {
              "id": "CH_LOG_FIND_MAGNET",
              "text": "(look) Find the magnet.",
              "next": "N_LOG_EXTRACT"
            },
            {
              "id": "CH_LOG_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            }
          ]
        },
        {
          "id": "N_LOG_NO_ONE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "No one did. The paper still insists it was a process.",
          "next": "N_LOG_MENU"
        },
        {
          "id": "N_LOG_EXTRACT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You extract the small magnetic component from the envelope seam.",
          "next": "N_LOG_TAKE_MENU"
        },
        {
          "id": "N_LOG_TAKE_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_LOG_TAKE",
              "text": "(talk) Take it.",
              "next": "E_OBTAIN_MAGNET"
            },
            {
              "id": "CH_LOG_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            }
          ]
        },
        {
          "id": "N_DOC_NOTE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You tear the cleanest corner off a form and write a note with the least imaginative truth you can defend.",
          "next": "N_DOC_TEXT"
        },
        {
          "id": "N_DOC_TEXT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "\u201cRecovered small magnet component from reception drawer; intended for access media continuity; to be logged upon network availability.\u201d It reads like a person trying not to exist in court.",
          "next": "N_DOC_MENU"
        },
        {
          "id": "N_DOC_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_DOC_TAKE",
              "text": "(talk) Now take it.",
              "next": "E_OBTAIN_MAGNET"
            },
            {
              "id": "CH_DOC_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            }
          ]
        },
        {
          "id": "N_CLOSE_NEAT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You push the drawer back in. It closes too neatly, like it\u2019s practiced at being ignored.",
          "next": "N_CLOSE_MENU"
        },
        {
          "id": "N_CLOSE_MENU",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "CH_CLOSE_BACK",
              "text": "(leave) Back.",
              "next": "R_BACK_TO_MENU"
            },
            {
              "id": "CH_CLOSE_LATER",
              "text": "(leave) Later.",
              "next": "E_LEAVE_NO_MAGNET"
            }
          ]
        },
        {
          "id": "R_BACK_TO_MENU",
          "type": "redirect",
          "target": "N_MENU"
        },
        {
          "id": "E_OBTAIN_MAGNET",
          "type": "end",
          "outcomeId": "obtain_magnet",
          "effects": [
            {
              "key": "tools.magnetFound",
              "action": "set",
              "value": true
            },
            {
              "key": "inventory.items",
              "action": "add",
              "value": "ITEM_SMALL_MAGNET"
            }
          ]
        },
        {
          "id": "E_LEAVE_NO_MAGNET",
          "type": "end"
        }
      ]
    }
  ]
}
