{
  "dialogueGraphs": [
    {
      "id": "DG_LEGACY_ARCHIVE",
      "sceneId": "SCN-054",
      "startNodeId": "NARRATOR_INTRO",
      "nodes": [
        {
          "id": "NARRATOR_INTRO",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The Legacy Interconnections Archive smells like dust that passed inspection. (pause) A catalog terminal waits under a plastic hood labeled: USE IS A FORM OF CREATION.",
          "next": "TECH_OPENING"
        },
        {
          "id": "TECH_OPENING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Don\u2019t browse. (pause) Want a pull? (pause) Say the proper heading.",
          "next": "PLAYER_USE_TERMINAL"
        },
        {
          "id": "PLAYER_USE_TERMINAL",
          "type": "npc_line",
          "speakerId": "PLAYER",
          "text": "Use terminal.",
          "next": "NARRATOR_SCAN"
        },
        {
          "id": "NARRATOR_SCAN",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You scan your routing barcode. The reader chirps like it resents you for being scannable.",
          "next": "NARRATOR_MATCH"
        },
        {
          "id": "NARRATOR_MATCH",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The screen populates with a legacy match before you finish exhaling. (pause)\n\nA record header blinks: \u201cENDPOINT: SOL\u2011EARTH\u2011LOCAL.\u201d (pause)\nBelow it: \u201cMAINTENANCE LINEAGE: ACTIVE / RECURRING.\u201d (pause)\nA final line is half-obscured by an access banner: \u201cMANAGING AUTHORITY: UPSTREAM / EXTERNAL (UNNAMED).\u201d",
          "next": "TECH_FAST_RESULTS"
        },
        {
          "id": "TECH_FAST_RESULTS",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Yeah. Fast. (pause) And fast pulls land in the wrong drawer. (pause) I don\u2019t do those. Somebody else can.",
          "next": "MENU_QUERY_FRAME"
        },
        {
          "id": "MENU_QUERY_FRAME",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PROPER_HEADING",
              "text": "ask Proper heading for this record.",
              "next": "TECH_PROPER_HEADING"
            },
            {
              "id": "ASK_WHY_LINEAGE",
              "text": "ask Why does it say \u201cmaintenance lineage\u201d.",
              "next": "TECH_WHY_NOT_HEADING"
            },
            {
              "id": "ASK_UPSTREAM",
              "text": "ask Who is \u201cupstream/external\u201d.",
              "next": "TECH_UPSTREAM_EXPLAIN"
            },
            {
              "id": "LOOK_PLACARDS",
              "text": "look Read the index rules placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_ARCHIVE",
              "text": "leave Leave the archive.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_PROPER_HEADING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections. Legacy. (pause) Then: Continuity Exceptions. (pause) Don\u2019t say \u201cincident\u201d or \u201canomaly.\u201d (pause) I\u2019m not tagging that. (pause) Just what\u2019s in front of us\u2014won\u2019t sit still.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "MENU_UNDER_HEADING",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_UNDER_CONTINUITY_EXCEPTIONS",
              "text": "ask Pull the legacy metadata under \u201cContinuity Exceptions\u201d.",
              "next": "NARRATOR_AUTH_DARE"
            },
            {
              "id": "ASK_DEFINE_CONTINUITY_EXCEPTION",
              "text": "ask Define \u201ccontinuity exception\u201d.",
              "next": "TECH_DEFINE_CONTINUITY"
            },
            {
              "id": "ASK_WHO_ASSIGNED_AUTHORITY_LINE",
              "text": "ask Who assigned the managing authority line.",
              "next": "TECH_NO_CITATION_NO_NAMES"
            },
            {
              "id": "LEAVE_BACK_AWAY",
              "text": "leave Back away from the terminal.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_DEFINE_CONTINUITY",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "It\u2019s a tag. (pause) \u201cContinuity exception.\u201d (pause) Record stays put even when the scheme shifts. (pause) Don\u2019t make it a story.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_NO_CITATION_NO_NAMES",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "No citation. No names. (pause) If the record says unnamed, it stays unnamed. (pause) I\u2019m not inventing entries for you.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_WHY_NOT_HEADING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Don\u2019t ask me why. (pause) \u201cMaintenance lineage\u201d is the tag slapped on it. (pause) It ties you to a continuity chain. (pause) So the archive marks you as belonging. (pause) Older than your request. (pause) That\u2019s how it\u2019s filed.",
          "next": "MENU_REPHRASE"
        },
        {
          "id": "MENU_REPHRASE",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_UNDER_WHAT_HEADING_LINEAGE",
              "text": "ask Under what heading is \u201cmaintenance lineage\u201d assigned.",
              "next": "TECH_GIVE_HEADING_PRAISE"
            },
            {
              "id": "ASK_PULL_METADATA_NO_HEADING",
              "text": "ask Pull the legacy metadata.",
              "next": "TECH_STATE_HEADING_REQUIRED"
            },
            {
              "id": "LOOK_PLACARDS_FROM_REPHRASE",
              "text": "look Read the index rules placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_FROM_REPHRASE",
              "text": "leave Leave.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_GIVE_HEADING_PRAISE",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections\u2014Legacy. (pause) Subheading: Continuity Exceptions. (pause) Good. (pause) Those words keep me out of correction memos.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_STATE_HEADING_REQUIRED",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "State the heading. (pause) The system logs your phrasing. (pause) Then it\u2019s stuck to my file.",
          "next": "MENU_STATE_HEADING"
        },
        {
          "id": "MENU_STATE_HEADING",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_UNDER_FULL_HEADING",
              "text": "ask Pull under \u201cEndpoint Interconnections \u2014 Legacy / Continuity Exceptions\u201d.",
              "next": "NARRATOR_ACCESS_CLEAR_SHORT"
            },
            {
              "id": "LEAVE_DONT_PULL",
              "text": "leave Don\u2019t pull it.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_UPSTREAM_EXPLAIN",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "I\u2019m not doing \u201cwho.\u201d (pause) It says \u201cUPSTREAM / EXTERNAL (UNNAMED).\u201d (pause) That line\u2019s a flag. (pause) No person I can name. (pause) No citation. It stays unnamed. (pause) That\u2019s it.",
          "next": "MENU_PUSH_OR_COMPLY"
        },
        {
          "id": "MENU_PUSH_OR_COMPLY",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_CITATION_DOC",
              "text": "ask Pull the document that cites the name.",
              "next": "TECH_CIRCLE"
            },
            {
              "id": "PERSUADE_OLEA_AUTHORITY",
              "text": "persuade I have OLEA closure authority. I need maintenance lineage metadata, not ownership.",
              "conditions": [
                {
                  "key": "player.factions",
                  "op": "in",
                  "value": [
                    "OLEA"
                  ]
                }
              ],
              "next": "TECH_OLEA_ACCEPT"
            },
            {
              "id": "ASK_PULL_UNDER_PROPER_HEADING",
              "text": "ask Pull the legacy metadata under the proper heading.",
              "next": "TECH_GIVE_HEADING_PROCEED"
            },
            {
              "id": "LEAVE_STOP_PRESSING",
              "text": "leave Stop pressing.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_CIRCLE",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "If you had the citation, (pause) you wouldn\u2019t be asking me. (pause) That\u2019s the loop.",
          "next": "MENU_PUSH_OR_COMPLY"
        },
        {
          "id": "TECH_GIVE_HEADING_PROCEED",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections\u2014Legacy. (pause) Continuity Exceptions. (pause) Proceed.",
          "next": "NARRATOR_ACCESS_CLEAR_SHORT"
        },
        {
          "id": "TECH_OLEA_ACCEPT",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Alright. That\u2019s clean enough for the log. (pause) Continuity context for OLEA closure. (pause) Keep ownership out of it. (pause) Proper heading: Endpoint Interconnections\u2014Legacy / Continuity Exceptions. (pause) I\u2019ll initiate retrieval. (pause) Don\u2019t stick my name under your conclusion.",
          "next": "NARRATOR_ACCESS_CLEAR_SHORT"
        },
        {
          "id": "NARRATOR_PLACARDS",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "On the placards, the index rules are printed in three fonts. (pause) Consensus was attempted and failed. (pause)\nRule 4: \u201cQUESTIONS MUST BE SUBMITTED AS HEADINGS.\u201d (pause)\nRule 9: \u201cMOTIVE IS NOT AN INDEXABLE FIELD.\u201d (pause)\nSomeone has underlined \u201cFIELD\u201d twice. Angrily. (pause)\nThe terminal waits. Ready to log your next phrasing as a permanent feature of reality.",
          "next": "MENU_PLACARDS"
        },
        {
          "id": "MENU_PLACARDS",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "TALK_RETURN_TO_TERMINAL",
              "text": "talk Return to the catalog terminal.",
              "next": "MENU_QUERY_FRAME"
            },
            {
              "id": "look_READ_AGAIN",
              "text": "look Re-read the placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_FROM_PLACARDS",
              "text": "leave Leave.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "NARRATOR_AUTH_DARE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The terminal asks for the authorization string you already have; less security, more a dare.",
          "next": "TECH_PLACEMENT_NOT_MEANING"
        },
        {
          "id": "TECH_PLACEMENT_NOT_MEANING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Before you type\u2014(pause) this pull only certifies placement. (pause) That\u2019s it. (pause) Meaning stays out of my file.",
          "next": "NARRATOR_ACCESS_CLEARS_LONG"
        },
        {
          "id": "NARRATOR_ACCESS_CLEARS_LONG",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You enter the string. The access banner clears.",
          "next": "NARRATOR_ABSTRACT_EXPANDS"
        },
        {
          "id": "NARRATOR_ABSTRACT_EXPANDS",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A legacy abstract expands: (pause)\n\u201cARCHIVE: ENDPOINT SOL\u2011EARTH\u2011LOCAL.\u201d (pause)\n\u201cSTATUS: IN CATALOG PRIOR TO CURRENT SCHEME.\u201d (pause)\n\u201cMAINTENANCE LINEAGE: TIED TO EXISTING NODE; NOT NEWLY INTRODUCED.\u201d (pause)\n\u201cMANAGING AUTHORITY: UPSTREAM/EXTERNAL (UNNAMED).\u201d (pause)\n\u201cASSOCIATED MATERIAL: DRAWER BANK 7 / SLICE B.\u201d",
          "next": "NARRATOR_DRAWER_BANK"
        },
        {
          "id": "NARRATOR_DRAWER_BANK",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Drawer bank.",
          "next": "TECH_DONT_REMOVE_ORIGINALS"
        },
        {
          "id": "TECH_DONT_REMOVE_ORIGINALS",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Don\u2019t remove originals. (pause) Somebody walks off with one. (pause) The copy becomes \u201cthe original.\u201d (pause) And I\u2019m the one writing it up.",
          "next": "NARRATOR_MAP_FRAGMENT"
        },
        {
          "id": "NARRATOR_MAP_FRAGMENT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Inside: thin cartographic insert, brittle at the folds. (pause) Network map fragment: SOL\u2011EARTH\u2011LOCAL circled, by a hand schooled in control through denial.",
          "next": "END_PULL_LEGACY_METADATA"
        },
        {
          "id": "NARRATOR_ACCESS_CLEAR_SHORT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The access banner clears. The abstract expands. A drawer reference appears.",
          "next": "END_PULL_LEGACY_METADATA"
        },
        {
          "id": "END_PULL_LEGACY_METADATA",
          "type": "end",
          "speakerId": "NARRATOR",
          "text": "You copy the legacy abstract into your notes, and pocket the map fragment. (pause)\nThe catalog quietly reclassifies you: \u201cnew irregularity\u201d becomes \u201cexisting maintenance burden,\u201d as if kinder.",
          "outcomeId": "pull_legacy_metadata",
          "effects": [
            {
              "key": "act2.legacyMetadataSeen",
              "action": "set",
              "value": true
            },
            {
              "key": "paperwork.notes",
              "action": "add",
              "value": "Archive: Endpoint SOL-EARTH-LOCAL; managing authority indicated as upstream/external (unnamed)."
            },
            {
              "key": "inventory.items",
              "action": "add",
              "value": "ITEM_MAP_FRAGMENT_2"
            }
          ]
        },
        {
          "id": "END_LEAVE",
          "type": "end",
          "speakerId": "NARRATOR",
          "text": "You step away before the archive can decide what category you belong in today."
        }
      ]
    }
  ]
}