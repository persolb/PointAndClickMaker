{
  "dialogueGraphs": [
    {
      "id": "DG_LEGACY_ARCHIVE",
      "sceneId": "SCN-054",
      "startNodeId": "NARRATOR_INTRO",
      "nodes": [
        {
          "id": "NARRATOR_INTRO",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The Legacy Interconnections Archive smells like dust that passed inspection.\nA catalog terminal waits under a plastic hood labeled: USE IS A FORM OF CREATION.",
          "next": "TECH_OPENING"
        },
        {
          "id": "TECH_OPENING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "No browsing. Pull something? State the proper heading.",
          "next": "PLAYER_USE_TERMINAL"
        },
        {
          "id": "PLAYER_USE_TERMINAL",
          "type": "npc_line",
          "speakerId": "PLAYER",
          "text": "Use terminal.",
          "next": "NARRATOR_SCAN"
        },
        {
          "id": "NARRATOR_SCAN",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You scan your routing barcode. The reader chirps like it resents you for being scannable.",
          "next": "NARRATOR_MATCH"
        },
        {
          "id": "NARRATOR_MATCH",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The screen populates with a legacy match before you finish exhaling.\n\nA record header blinks: \u201cENDPOINT: SOL\u2011EARTH\u2011LOCAL.\u201d\nBelow it: \u201cMAINTENANCE LINEAGE: ACTIVE / RECURRING.\u201d\nA final line is half-obscured by an access banner: \u201cMANAGING AUTHORITY: UPSTREAM / EXTERNAL (UNNAMED).\u201d",
          "next": "TECH_FAST_RESULTS"
        },
        {
          "id": "TECH_FAST_RESULTS",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Yeah. Fast. (pause) Fast pulls end up in the wrong drawer. (pause) I don't do it. Other people do.",
          "next": "MENU_QUERY_FRAME"
        },
        {
          "id": "MENU_QUERY_FRAME",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PROPER_HEADING",
              "text": "ask Proper heading for this record.",
              "next": "TECH_PROPER_HEADING"
            },
            {
              "id": "ASK_WHY_LINEAGE",
              "text": "ask Why does it say \u201cmaintenance lineage\u201d.",
              "next": "TECH_WHY_NOT_HEADING"
            },
            {
              "id": "ASK_UPSTREAM",
              "text": "ask Who is \u201cupstream/external\u201d.",
              "next": "TECH_UPSTREAM_EXPLAIN"
            },
            {
              "id": "LOOK_PLACARDS",
              "text": "look Read the index rules placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_ARCHIVE",
              "text": "leave Leave the archive.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_PROPER_HEADING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections. Legacy. (pause) Then: Continuity Exceptions. (pause) And don\u2019t say \u201cincident\u201d or \u201canomaly.\u201d (pause) I\u2019m not tagging that. (pause) Facts only\u2014even when they won\u2019t sit still.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "MENU_UNDER_HEADING",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_UNDER_CONTINUITY_EXCEPTIONS",
              "text": "ask Pull the legacy metadata under \u201cContinuity Exceptions\u201d.",
              "next": "NARRATOR_AUTH_DARE"
            },
            {
              "id": "ASK_DEFINE_CONTINUITY_EXCEPTION",
              "text": "ask Define \u201ccontinuity exception\u201d.",
              "next": "TECH_DEFINE_CONTINUITY"
            },
            {
              "id": "ASK_WHO_ASSIGNED_AUTHORITY_LINE",
              "text": "ask Who assigned the managing authority line.",
              "next": "TECH_NO_CITATION_NO_NAMES"
            },
            {
              "id": "LEAVE_BACK_AWAY",
              "text": "leave Back away from the terminal.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_DEFINE_CONTINUITY",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "It's a tag. (pause) Continuity exception. (pause) The record survives. (pause) Even when the scheme shifts. (pause) Don't turn it into a story.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_NO_CITATION_NO_NAMES",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "I can\u2019t put names in without citation. (pause)\nIf it\u2019s not in the record, unnamed. (pause)\nI\u2019m not making this up for you.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_WHY_NOT_HEADING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Why doesn't help me. (pause)\n\u201cLineage\u201d is the tag they slapped on it. (pause)\nIt means you're tied to a continuity chain. (pause)\nSo yeah, the archive thinks you belong. (pause)\nTo something older than your request. (pause)\nThat's just how it's filed.",
          "next": "MENU_REPHRASE"
        },
        {
          "id": "MENU_REPHRASE",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_UNDER_WHAT_HEADING_LINEAGE",
              "text": "ask Under what heading is \u201cmaintenance lineage\u201d assigned.",
              "next": "TECH_GIVE_HEADING_PRAISE"
            },
            {
              "id": "ASK_PULL_METADATA_NO_HEADING",
              "text": "ask Pull the legacy metadata.",
              "next": "TECH_STATE_HEADING_REQUIRED"
            },
            {
              "id": "LOOK_PLACARDS_FROM_REPHRASE",
              "text": "look Read the index rules placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_FROM_REPHRASE",
              "text": "leave Leave.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_GIVE_HEADING_PRAISE",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections \u2014 Legacy. (pause) Subheading: Continuity Exceptions. (pause) Good. (pause) That's the kind of wording (pause) that keeps me out (pause) of correction memos.",
          "next": "MENU_UNDER_HEADING"
        },
        {
          "id": "TECH_STATE_HEADING_REQUIRED",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "State the heading. (pause) The system logs your phrasing. (pause) Then I\u2019m stuck with it.",
          "next": "MENU_STATE_HEADING"
        },
        {
          "id": "MENU_STATE_HEADING",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_UNDER_FULL_HEADING",
              "text": "ask Pull under \u201cEndpoint Interconnections \u2014 Legacy / Continuity Exceptions\u201d.",
              "next": "NARRATOR_ACCESS_CLEAR_SHORT"
            },
            {
              "id": "LEAVE_DONT_PULL",
              "text": "leave Don\u2019t pull it.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_UPSTREAM_EXPLAIN",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "I'm not doing \"who.\" (pause)\nIt says \"UPSTREAM / EXTERNAL (UNNAMED).\" (pause)\nThat's a flag, not a person. (pause)\nNo citation. No name. (pause)\nThat's it.",
          "next": "MENU_PUSH_OR_COMPLY"
        },
        {
          "id": "MENU_PUSH_OR_COMPLY",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "ASK_PULL_CITATION_DOC",
              "text": "ask Pull the document that cites the name.",
              "next": "TECH_CIRCLE"
            },
            {
              "id": "PERSUADE_OLEA_AUTHORITY",
              "text": "persuade I have OLEA closure authority. I need maintenance lineage metadata, not ownership.",
              "conditions": [
                {
                  "key": "player.factions",
                  "op": "in",
                  "value": [
                    "OLEA"
                  ]
                }
              ],
              "next": "TECH_OLEA_ACCEPT"
            },
            {
              "id": "ASK_PULL_UNDER_PROPER_HEADING",
              "text": "ask Pull the legacy metadata under the proper heading.",
              "next": "TECH_GIVE_HEADING_PROCEED"
            },
            {
              "id": "LEAVE_STOP_PRESSING",
              "text": "leave Stop pressing.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "TECH_CIRCLE",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "If you had the citation (pause) you wouldn\u2019t ask me. (pause)\nThat\u2019s the loop we\u2019re in.",
          "next": "MENU_PUSH_OR_COMPLY"
        },
        {
          "id": "TECH_GIVE_HEADING_PROCEED",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Endpoint Interconnections \u0014 Legacy.\u001d\n\u001cContinuity Exceptions.\u001d\nProceed.",
          "next": "NARRATOR_ACCESS_CLEAR_SHORT"
        },
        {
          "id": "TECH_OLEA_ACCEPT",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Okay. That\u2019s framed clean enough. (pause) Continuity context for OLEA closure. (pause) Not ownership. Fine. (pause) Proper heading: Endpoint Interconnections\u2014Legacy / Continuity Exceptions. (pause) I\u2019ll initiate retrieval. (pause) Don\u2019t hang my name on your conclusion.",
          "next": "NARRATOR_ACCESS_CLEAR_SHORT"
        },
        {
          "id": "NARRATOR_PLACARDS",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "On the placards, the index rules are printed in three fonts, as if consensus was attempted and failed.\n\nRule 4: \u201cQUESTIONS MUST BE SUBMITTED AS HEADINGS.\u201d\nRule 9: \u201cMOTIVE IS NOT AN INDEXABLE FIELD.\u201d\nSomeone has underlined \u201cFIELD\u201d twice, angrily.\n\nThe terminal waits, ready to log your next phrasing as a permanent feature of reality.",
          "next": "MENU_PLACARDS"
        },
        {
          "id": "MENU_PLACARDS",
          "type": "player_choice",
          "speakerId": "PLAYER",
          "choices": [
            {
              "id": "TALK_RETURN_TO_TERMINAL",
              "text": "talk Return to the catalog terminal.",
              "next": "MENU_QUERY_FRAME"
            },
            {
              "id": "look_READ_AGAIN",
              "text": "look Re-read the placards.",
              "next": "NARRATOR_PLACARDS"
            },
            {
              "id": "LEAVE_FROM_PLACARDS",
              "text": "leave Leave.",
              "next": "END_LEAVE"
            }
          ]
        },
        {
          "id": "NARRATOR_AUTH_DARE",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The terminal requests an authorization string you already have, which feels less like security and more like a dare.",
          "next": "TECH_PLACEMENT_NOT_MEANING"
        },
        {
          "id": "TECH_PLACEMENT_NOT_MEANING",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Before you type (pause) this retrieval certifies placement. (pause) That's all. (pause) Meaning doesn't go in my file.",
          "next": "NARRATOR_ACCESS_CLEARS_LONG"
        },
        {
          "id": "NARRATOR_ACCESS_CLEARS_LONG",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "You enter the string. The access banner clears.",
          "next": "NARRATOR_ABSTRACT_EXPANDS"
        },
        {
          "id": "NARRATOR_ABSTRACT_EXPANDS",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "A legacy abstract expands:\n\u201cARCHIVE: ENDPOINT SOL\u2011EARTH\u2011LOCAL.\u201d\n\u201cSTATUS: IN CATALOG PRIOR TO CURRENT SCHEME.\u201d\n\u201cMAINTENANCE LINEAGE: TIED TO EXISTING NODE; NOT NEWLY INTRODUCED.\u201d\n\u201cMANAGING AUTHORITY: UPSTREAM/EXTERNAL (UNNAMED).\u201d\n\u201cASSOCIATED MATERIAL: DRAWER BANK 7 / SLICE B.\u201d",
          "next": "NARRATOR_DRAWER_BANK"
        },
        {
          "id": "NARRATOR_DRAWER_BANK",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Drawer bank.",
          "next": "TECH_DONT_REMOVE_ORIGINALS"
        },
        {
          "id": "TECH_DONT_REMOVE_ORIGINALS",
          "type": "npc_line",
          "speakerId": "ARCHIVE_TECH",
          "text": "Don't remove originals.(pause) Somebody walks off with one,(pause) and suddenly the copy becomes \"the original\"(pause) and I get stuck writing it up.",
          "next": "NARRATOR_MAP_FRAGMENT"
        },
        {
          "id": "NARRATOR_MAP_FRAGMENT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "Inside: a thin cartographic insert, brittle at the folds.\nA fragment of a network map with SOL\u2011EARTH\u2011LOCAL circled in a hand that learned control by being denied it.",
          "next": "END_PULL_LEGACY_METADATA"
        },
        {
          "id": "NARRATOR_ACCESS_CLEAR_SHORT",
          "type": "npc_line",
          "speakerId": "NARRATOR",
          "text": "The access banner clears. The abstract expands. A drawer reference appears.",
          "next": "END_PULL_LEGACY_METADATA"
        },
        {
          "id": "END_PULL_LEGACY_METADATA",
          "type": "end",
          "speakerId": "NARRATOR",
          "text": "You copy the legacy abstract into your notes and pocket the map fragment.\nThe catalog quietly reclassifies you from \u201cnew irregularity\u201d to \u201cexisting maintenance burden,\u201d as if that\u2019s kinder.",
          "outcomeId": "pull_legacy_metadata",
          "effects": [
            {
              "key": "act2.legacyMetadataSeen",
              "action": "set",
              "value": true
            },
            {
              "key": "paperwork.notes",
              "action": "add",
              "value": "Archive: Endpoint SOL-EARTH-LOCAL; managing authority indicated as upstream/external (unnamed)."
            },
            {
              "key": "inventory.items",
              "action": "add",
              "value": "ITEM_MAP_FRAGMENT_2"
            }
          ]
        },
        {
          "id": "END_LEAVE",
          "type": "end",
          "speakerId": "NARRATOR",
          "text": "You step away before the archive can decide what category you belong in today."
        }
      ]
    }
  ]
}